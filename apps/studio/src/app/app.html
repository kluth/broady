<div class="studio-container">
  <header class="studio-header">
    <h1>{{ title }}</h1>
    <div class="header-actions">
      <button class="btn-header">File</button>
      <button class="btn-header">View</button>
      <button class="btn-header">Help</button>
    </div>
  </header>

  <div class="studio-content">
    <!-- Preview Area -->
    <div class="preview-area">
      <streaming-video-preview></streaming-video-preview>

      <!-- Alerts Display Overlay -->
      <div class="preview-overlay">
        <streaming-alerts-system></streaming-alerts-system>
      </div>
    </div>

    <!-- Side Panel with Tabs -->
    <aside class="side-panel">
      <!-- Tab Navigation -->
      <nav class="panel-tabs">
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'sources'"
          (click)="activeTab.set('sources')">
          ğŸ“‹ Sources
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'overlays'"
          (click)="activeTab.set('overlays')">
          ğŸ¨ Overlays
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'multistream'"
          (click)="activeTab.set('multistream')">
          ğŸŒ Multi-Stream
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'chat'"
          (click)="activeTab.set('chat')">
          ğŸ’¬ Chat
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'alerts'"
          (click)="activeTab.set('alerts')">
          ğŸ”” Alerts
        </button>
        <button
          class="tab-btn"
          [class.active]="activeTab() === 'stats'"
          (click)="activeTab.set('stats')">
          ğŸ“Š Stats
        </button>
      </nav>

      <!-- Tab Content -->
      <div class="panel-content">
        @if (activeTab() === 'sources') {
          <section class="panel-section">
            <streaming-scene-list></streaming-scene-list>
          </section>
          <section class="panel-section">
            <streaming-sources-manager></streaming-sources-manager>
          </section>
          <section class="panel-section">
            <streaming-audio-mixer></streaming-audio-mixer>
          </section>
        }

        @if (activeTab() === 'overlays') {
          <section class="panel-section full-height">
            <streaming-overlays-manager></streaming-overlays-manager>
          </section>
        }

        @if (activeTab() === 'multistream') {
          <section class="panel-section full-height">
            <streaming-multistream></streaming-multistream>
          </section>
        }

        @if (activeTab() === 'chat') {
          <section class="panel-section full-height">
            <streaming-chat-integration></streaming-chat-integration>
          </section>
        }

        @if (activeTab() === 'alerts') {
          <section class="panel-section full-height">
            <streaming-alerts-system></streaming-alerts-system>
          </section>
        }

        @if (activeTab() === 'stats') {
          <section class="panel-section full-height">
            <streaming-stats-dashboard></streaming-stats-dashboard>
          </section>
        }
      </div>
    </aside>
  </div>

  <!-- Bottom Control Bar -->
  <footer class="studio-footer">
    <streaming-controls></streaming-controls>
  </footer>
</div>

<!-- Settings Dialog -->
<streaming-settings-dialog></streaming-settings-dialog>

<router-outlet></router-outlet>
